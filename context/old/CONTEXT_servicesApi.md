๐ฏ Purpose

ุณุงุฎุช ูุงฺูู servicesApi.js ุจุฑุง ูุฏุฑุช ุชูุงู ุงุฑุชุจุงุทุงุช ูุฑุชุจุท ุจุง Content Type Service ุฏุฑ Strapi.
ุงู ูุงฺูู ฺฉ abstraction ุงุฒ ูุงู API ูุฑุงูู ูโฺฉูุฏ ุชุง ุตูุญุงุช (/services, /services/[slug]) ุจุชูุงููุฏ ุจูโุตูุฑุช ุชูุฒ ู ุงูู ุฏุงุฏูโูุง ุฑุง ูฺ ฺฉููุฏ.

๐ File Structure
/src/lib/apiClient.js
/src/lib/servicesApi.js

โ๏ธ Module Type

server
(ุชูุงู ุชูุงุจุน async ู ููุท ุฏุฑ ุณุฑูุฑ ูุงุจู ุงุฌุฑุง ูุณุชูุฏุ ููุงุณุจ SSR/ISR ุฏุฑ Next.js 15.)

๐ Data Source

Endpoints:

/api/services?populate=* โ ุฏุฑุงูุช ููู ุฎุฏูุงุช

/api/services/:slug?populate=* โ ุฏุฑุงูุช ุฌุฒุฆุงุช ฺฉ ุฎุฏูุช ุฎุงุต

Content Type Fields:
id, slug, title, description, image, link

๐งฉ Dependencies

apiClient.js (ูพุงู ุจุฑุง ุงูุฌุงู ุฏุฑุฎูุงุณุชโูุง)

ูุชุบุฑ ูุญุท NEXT_PUBLIC_STRAPI_API_URL

ุณุงุฎุชุงุฑ ูพุงุณุฎ Strapi: { data: [...], meta: {...} }

๐ง Logic Overview

servicesApi.js ุดุงูู ฒ ุชุงุจุน ุงุณุช:

getAllServices()  โ  ูฺ ูุณุช ุชูุงู ุฎุฏูุงุช
getServiceBySlug(slug)  โ  ูฺ ุฌุฒุฆุงุช ฺฉ ุฎุฏูุช ุฎุงุต


ูุฑ ุฏู ุชุงุจุน:

ุงุฒ apiClient() ุงุณุชูุงุฏู ูโฺฉููุฏ

ุฏุงุฏู ุฑุง ูพุงฺฉโุณุงุฒ ฺฉุฑุฏู ู ููุท response.data ุฑุง ุจุฑูโฺฏุฑุฏุงููุฏ

ุฏุฑ ุตูุฑุช ุฎุทุงุ ุฎุฑูุฌ [] ุง null ูโุฏููุฏ ุชุง ุตูุญู ุฏฺุงุฑ ฺฉุฑุด ูุดูุฏ

๐จ Design Notes

(ฺูู ูุงฺูู ุจฺฉโุงูุฏ ุงุณุชุ ููุท ููุทู ู ุณุงุฎุชุงุฑ ฺฉุฏ ุงููุช ุฏุงุฑุฏุ ูู UI)

ุจุงุฏ ฺฉุงููุงู ูุณุชูุฏ ู ุฏุงุฑุง ฺฉุงููุช ูุงุฑุณ ุจุงุดุฏ ุชุง Cursor ู ุชูุณุนูโุฏููุฏู ููุทู ุฑุง ุฏุฑฺฉ ฺฉููุฏ.

ุชุงุจุนโูุง ุจุงุฏ async ู ุฎุทุงูพุฐุฑ ุจุงุดูุฏ (ุจุง try/catch).

ุชูุงุจุน ุจุงุฏ ูุงุจู ุงุณุชูุงุฏู ุฏุฑ ูุฑ Context ูุฑุงูุชโุงูุฏ ุจุงุดูุฏ (ServicesPageุ ServiceSingle ู ...).